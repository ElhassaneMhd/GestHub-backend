

create table `admins` (`id` bigint unsigned not null auto_increment primary key, `profile_id` bigint unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `admins` add constraint `admins_profile_id_foreign` foreign key (`profile_id`) references `profiles` (`id`) on delete cascade;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `supervisors` (`id` bigint unsigned not null auto_increment primary key, `profile_id` bigint unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `supervisors` add constraint `supervisors_profile_id_foreign` foreign key (`profile_id`) references `profiles` (`id`) on delete cascade;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `applications` (`id` bigint unsigned not null auto_increment primary key, `offer_id` bigint unsigned not null, `user_id` bigint unsigned null, `intern_id` bigint unsigned null, `startDate` date not null, `endDate` date not null, `status` varchar(255) not null default 'Pending', `motivationLetter` text null, `deleted_at` timestamp null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `applications` add constraint `applications_offer_id_foreign` foreign key (`offer_id`) references `offers` (`id`) on delete cascade;
alter table `applications` add constraint `applications_user_id_foreign` foreign key (`user_id`) references `users` (`id`) on delete set null;
alter table `applications` add constraint `applications_intern_id_foreign` foreign key (`intern_id`) references `interns` (`id`) on delete set null;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `projects` (`id` bigint unsigned not null auto_increment primary key, `subject` varchar(255) not null, `description` text not null, `startDate` date not null, `endDate` date not null, `status` varchar(255) not null, `priority` varchar(255) not null, `supervisor_id` bigint unsigned null, `intern_id` bigint unsigned null, `deleted_at` timestamp null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `projects` add fulltext `projects_subject_fulltext`(`subject`);
alter table `projects` add constraint `projects_supervisor_id_foreign` foreign key (`supervisor_id`) references `supervisors` (`id`) on delete set null;
alter table `projects` add constraint `projects_intern_id_foreign` foreign key (`intern_id`) references `interns` (`id`) on delete set null;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `tasks` (`id` bigint unsigned not null auto_increment primary key, `title` varchar(255) not null, `description` text null, `dueDate` date null, `priority` varchar(255) not null, `status` varchar(255) not null, `intern_id` bigint unsigned null, `project_id` bigint unsigned not null, `deleted_at` timestamp null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `tasks` add constraint `tasks_intern_id_foreign` foreign key (`intern_id`) references `interns` (`id`) on delete set null;
alter table `tasks` add constraint `tasks_project_id_foreign` foreign key (`project_id`) references `projects` (`id`) on delete cascade;
insert into `migrations` (`migration`, `batch`) values (?, ?);
create table `intern_project` (`id` bigint unsigned not null auto_increment primary key, `intern_id` bigint unsigned null, `project_id` bigint unsigned null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `intern_project` add constraint `intern_project_intern_id_foreign` foreign key (`intern_id`) references `interns` (`id`) on delete set null;
alter table `intern_project` add constraint `intern_project_project_id_foreign` foreign key (`project_id`) references `projects` (`id`) on delete set null;
insert into `migrations` (`migration`, `batch`) values (?, ?);
create table `settings` (`id` bigint unsigned not null auto_increment primary key, `appName` varchar(255) null default 'GestHub', `companyName` varchar(255) null, `email` varchar(255) null, `phone` varchar(255) null, `facebook` varchar(255) null, `instagram` varchar(255) null, `twitter` varchar(255) null, `youtube` varchar(255) null, `linkedin` varchar(255) null, `maps` text null, `location` varchar(255) null, `aboutDescription` text null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
insert into `migrations` (`migration`, `batch`) values (?, ?);
create table `permissions` (`id` bigint unsigned not null auto_increment primary key, `name` varchar(255) not null, `guard_name` varchar(255) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `permissions` add unique `permissions_name_guard_name_unique`(`name`, `guard_name`);
create table `roles` (`id` bigint unsigned not null auto_increment primary key, `name` varchar(255) not null, `guard_name` varchar(255) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `roles` add unique `roles_name_guard_name_unique`(`name`, `guard_name`);
create table `model_has_permissions` (`permission_id` bigint unsigned not null, `model_type` varchar(255) not null, `model_id` bigint unsigned not null, primary key (`permission_id`, `model_id`, `model_type`)) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `model_has_permissions` add index `model_has_permissions_model_id_model_type_index`(`model_id`, `model_type`);
alter table `model_has_permissions` add constraint `model_has_permissions_permission_id_foreign` foreign key (`permission_id`) references `permissions` (`id`) on delete cascade;
create table `model_has_roles` (`role_id` bigint unsigned not null, `model_type` varchar(255) not null, `model_id` bigint unsigned not null, primary key (`role_id`, `model_id`, `model_type`)) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `model_has_roles` add index `model_has_roles_model_id_model_type_index`(`model_id`, `model_type`);
alter table `model_has_roles` add constraint `model_has_roles_role_id_foreign` foreign key (`role_id`) references `roles` (`id`) on delete cascade;
create table `role_has_permissions` (`permission_id` bigint unsigned not null, `role_id` bigint unsigned not null, primary key (`permission_id`, `role_id`)) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `role_has_permissions` add constraint `role_has_permissions_permission_id_foreign` foreign key (`permission_id`) references `permissions` (`id`) on delete cascade;
alter table `role_has_permissions` add constraint `role_has_permissions_role_id_foreign` foreign key (`role_id`) references `roles` (`id`) on delete cascade;
insert into `migrations` (`migration`, `batch`) values (?, ?);
create table `sessions` (`id` bigint unsigned not null auto_increment primary key, `profile_id` bigint unsigned not null, `token` text not null, `status` varchar(255) not null default 'Online', `browser` varchar(255) not null, `device` varchar(255) not null, `ip` varchar(255) not null, `location` varchar(255) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `sessions` add constraint `sessions_profile_id_foreign` foreign key (`profile_id`) references `profiles` (`id`) on delete cascade;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `activities` (`id` bigint unsigned not null auto_increment primary key, `session_id` bigint unsigned null, `profile_id` bigint unsigned null, `model` varchar(255) not null, `action` varchar(255) not null, `object` varchar(255) null, `activity` text not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `activities` add constraint `activities_session_id_foreign` foreign key (`session_id`) references `sessions` (`id`) on delete set null;
alter table `activities` add constraint `activities_profile_id_foreign` foreign key (`profile_id`) references `profiles` (`id`) on delete set null;
insert into `migrations` (`migration`, `batch`) values (?, ?);
SET FOREIGN_KEY_CHECKS=0;;
create table `notifications` (`id` bigint unsigned not null auto_increment primary key, `initiator` bigint unsigned null, `receiver` bigint unsigned null, `activity` varchar(255) not null, `object` varchar(255) null, `action` varchar(255) not null, `isRead` enum('false', 'true') not null default 'false', `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
alter table `notifications` add constraint `notifications_initiator_foreign` foreign key (`initiator`) references `profiles` (`id`);
alter table `notifications` add constraint `notifications_receiver_foreign` foreign key (`receiver`) references `profiles` (`id`) on delete set null;
insert into `migrations` (`migration`, `batch`) values (?, ?);
create table `emails` (`id` bigint unsigned not null auto_increment primary key, `email` varchar(255) not null, `fullName` varchar(255) not null, `subject` varchar(255) not null, `message` text not null, `isReplied` varchar(255) not null default 'false', `ip` varchar(255) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate 'utf8mb4_unicode_ci';
insert into `migrations` (`migration`, `batch`) values (?, ?);
